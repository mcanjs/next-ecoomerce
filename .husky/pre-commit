#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸ—ï¸ Starting Husky controls for pre-commit hook...';

# Check tsconfig standarts
yarn check-types || {
    echo 'ğŸ’¥ TypeScript check failed';
    exit 1;
}

# Check eslint standarts
yarn check-lint || {
    echo 'ğŸ’¥ ESLint check failed';
    exit 1;
}

# If all is ok, commit
yarn build && {
    echo 'ğŸ’ª Commit is ready';
    exit 0;
}
